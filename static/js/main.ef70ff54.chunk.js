(this["webpackJsonpreact-apollo"]=this["webpackJsonpreact-apollo"]||[]).push([[0],{104:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var c,a=n(2),r=n.n(a),s=n(39),i=n.n(s),l=n(117),j=(n(80),n(72)),o=n(11),u=(n(81),n(38)),d=n(26),b=n(32),h=n(121),O=n(64),m=n(65),f=n(120),p=Object(f.a)(c||(c=Object(m.a)(["\n  query getCharacters($page: Int!, $filter: FilterCharacter!) {\n    characters(page: $page, filter: $filter) {\n      results {\n        id\n        name\n        status\n        type\n        species\n        image\n        origin {\n          name\n          dimension\n        }\n      }\n    }\n  }\n"]))),x=n(66),g=(n(82),n(3)),N=function(e){var t=e.src,n=e.alt,c=e.className,a=e.delayTime;return Object(g.jsx)(x.LazyLoadImage,{alt:n,effect:"blur",src:t,className:c,delayTime:a})},v=(n(84),function(e){var t=e.character;return Object(g.jsx)("div",{className:"container-character",children:Object(g.jsx)("div",{className:"container-card",children:t&&Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)("div",{className:"container-name",children:Object(g.jsx)("h2",{className:"name",children:t.name})}),Object(g.jsxs)("div",{className:"container-body",children:[Object(g.jsxs)("span",{className:"item",children:[Object(g.jsx)("b",{children:"Status: "}),t.status]}),Object(g.jsxs)("span",{className:"item",children:[Object(g.jsx)("b",{children:"Specie: "}),t.species]}),Object(g.jsxs)("span",{className:"item",children:[Object(g.jsx)("b",{children:"Origin: "}),t.origin.name]}),Object(g.jsxs)("span",{className:"item",children:[Object(g.jsx)("b",{children:"Dimension: "}),t.origin.dimension||"unknown"]})]}),Object(g.jsx)(N,{className:"picture",src:t.image,alt:"character",delayTime:"0"})]})})})}),y=n(67),S=n.n(y),F={filters:null},C=Object(a.createContext)(),E=function(){return Object(a.useContext)(C)},T="name",L="species",I=function(e){var t=e.handleSubmitSearch,n=(e.handleOnChangeName,e.handleOnChangeSpecies,Object(a.useState)(!1)),c=Object(b.a)(n,2),r=c[0],s=c[1],i=E(),l=Object(b.a)(i,2),j=l[0];l[1];return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)("button",{className:"buttonFilter",onClick:function(){return s(!0)},children:"Filters"}),Object(g.jsx)(S.a,{isOpen:r,onRequestClose:function(){return s(!1)},ariaHideApp:!1,children:Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:function(e){return function(e){var n=e.target.name.value,c=e.target.species.value;t({name:n,species:c}),s(!1),e.preventDefault()}(e)},className:"searchForm",children:[Object(g.jsxs)("div",{className:"containerModal",children:[Object(g.jsx)("h1",{className:"title",children:"Apply Filters"}),Object(g.jsx)("input",{type:"text",id:T,defaultValue:j.filters&&j.filters.name,placeholder:"Search by Name...",className:"field"}),Object(g.jsx)("input",{type:"text",id:L,defaultValue:j.filters&&j.filters.species,placeholder:"Search by Species",className:"field"})]}),Object(g.jsx)("button",{className:"buttonFilter",type:"submit",children:"Apply"})]})})})]})},R=(n(96),function(e){var t=e.handleOnClick,n=e.filterBy,c=n&&Object.values(n).reduce((function(e,t,n){return""!==t?[].concat(Object(u.a)(e),[" ".concat(t," ")]):e}),[]);return Object(g.jsxs)("div",{className:"containerFilters",children:[Object(g.jsxs)("div",{className:"filters",children:[c&&Object(g.jsx)("span",{className:"text",children:"Filtrando por:"}),Object(g.jsx)("span",{className:"filterBy",children:c})]}),Object(g.jsx)(I,{handleOnChangeSpecies:function(e){},handleSubmitSearch:function(e){t({filters:e})},filterBy:n})]})}),w=n(68),k=n.n(w),A=(n(97),function(e){var t=e.size,n=e.color,c=e.loading,a=void 0===c||c;return Object(g.jsx)("div",{className:"container-loader",children:Object(g.jsx)(k.a,{color:n,loading:a,size:t})})}),_=n(69),B=n.n(_);var z=function(e){if(e.some((function(e){return!e||"string"!==typeof e})))throw new Error("Action names must be strings and must not be empty");return new B.a(e).asObject((function(e){return[e,"".concat(e)]}))}(["CLEAN_FILTERS","SET_FILTERS","CHANGE_FILTER"]),M=function(e){return{type:z.SET_FILTERS,payload:e}},$=(n(104),function(){var e=E(),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),s=Object(b.a)(r,2),i=s[0],l=s[1],j=Object(a.useState)([]),o=Object(b.a)(j,2),m=o[0],f=o[1],x=Object(h.a)(p,{variables:{page:i,filter:Object(d.a)({},n.filters)}}),N=x.data,y=x.loading;Object(a.useEffect)((function(){N&&N.characters.results&&f((function(e){return[].concat(Object(u.a)(e),Object(u.a)(N.characters.results))}))}),[N]);return Object(g.jsxs)("div",{className:"container-general",children:[Object(g.jsx)("h2",{className:"title",children:"Characters of Ricky and Morty"}),Object(g.jsx)(R,{handleOnClick:function(e){var t=e.filters;c(M(t)),f([]),l(1)},filterBy:n.filters}),m&&Object(g.jsx)(O.a,{dataLength:m.length,next:function(){return l(i+1)},hasMore:function(){return!!(N&&i<N.characters.info.pages)},loader:Object(g.jsx)(A,{size:30,color:"gray",loading:y}),children:Object(g.jsx)("div",{className:"container-characters",children:m.map((function(e){return Object(g.jsx)(v,{character:e},"".concat(e.id,"-").concat(e.name))}))})}),m&&0===m.length&&!y&&Object(g.jsx)("span",{className:"messageNoResults",children:"Ups !! Try again !"})]})}),q=function(e,t){switch(t.type){case z.SET_FILTERS:return Object(d.a)(Object(d.a)({},e),{},{filters:t.payload});case z.CHANGE_FILTERS:return Object(d.a)(Object(d.a)({},e),{},{filters:e.filters.merge(t.payload)});case z.CLEAN_FILTERS:return Object(d.a)(Object(d.a)({},e),{},{filters:[]});default:return e}};var D=function(){return Object(g.jsx)(C.Provider,{value:Object(a.useReducer)(q,F),children:Object(g.jsx)(j.a,{children:Object(g.jsx)(o.c,{children:Object(g.jsx)(o.a,{path:"/characters",component:$})})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},P=n(118),G=n(119),J=new P.a({uri:"https://rickandmortyapi.com/graphql",cache:new G.a});i.a.render(Object(g.jsx)(l.a,{client:J,children:Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(D,{})})}),document.getElementById("root")),H()},80:function(e,t,n){},81:function(e,t,n){},84:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.ef70ff54.chunk.js.map